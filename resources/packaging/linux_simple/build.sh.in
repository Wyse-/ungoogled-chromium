#!/bin/bash

set -eux

# Simple build script for Linux

# Generally, utilikit configuration types using Clang read CLANG_BASE_PATH to determine the Clang installation path.
# The following is a safe default. Configure it if necessary.
export CLANG_BASE_PATH=/usr

rm -rf out || true
mkdir out
mkdir $ungoog{build_output}
env QUILT_PATCHES=$ungoog{build_files_dir}/patches quilt push -a
./tools/gn/bootstrap/bootstrap.py -o $ungoog{build_output}/gn -s -j 2
./$ungoog{build_output}/gn gen $ungoog{build_output} --args='$ungoog{gn_args_string}' --fail-on-unused-args
ninja -C $ungoog{build_output} chrome
